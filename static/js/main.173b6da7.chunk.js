(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(7),o=a.n(l),c=(a(15),Object(r.createContext)());a(16);var u=function(){var e=Object(r.useContext)(c),t=e.filters.dataFilters,a=e.filterValues.dataFilters2;return void 0===t?"carregando...":n.a.createElement("table",{className:"table",style:{border:"2px solid beige",cellspacing:"20",width:"260"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Orbital_Period"),n.a.createElement("th",null,"Population"),n.a.createElement("th",null,"Rotation_Period"),n.a.createElement("th",null,"Surface_Water"),n.a.createElement("th",null,"Terrain"),n.a.createElement("th",null,"Climate"),n.a.createElement("th",null,"Created"),n.a.createElement("th",null,"Diameter"),n.a.createElement("th",null,"Edited"),n.a.createElement("th",null,"Films"),n.a.createElement("th",null,"Gravity"),n.a.createElement("th",null,"Url"))),void 0===a?function(){var e="1px solid beige";return n.a.createElement("tbody",null,t&&t.map((function(t,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{"data-testid":"planet-name",style:{border:e}},t.name),n.a.createElement("td",{style:{border:e}},t.orbital_period),n.a.createElement("td",{style:{border:e}},t.population),n.a.createElement("td",{style:{border:e}},t.rotation_period),n.a.createElement("td",{style:{border:e}},t.surface_water),n.a.createElement("td",{style:{border:e}},t.terrain),n.a.createElement("td",{style:{border:e}},t.climate),n.a.createElement("td",{style:{border:e}},t.created),n.a.createElement("td",{style:{border:e}},t.diameter),n.a.createElement("td",{style:{border:e}},t.edited),n.a.createElement("td",{style:{border:e}},t.films),n.a.createElement("td",{style:{border:e}},t.gravity),n.a.createElement("td",{style:{border:e}},t.url))})))}():function(){var e="1px solid beige";return n.a.createElement("tbody",null,a&&a.map((function(t,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{"data-testid":"planet-name",style:{border:e}},t.name),n.a.createElement("td",{style:{border:e}},t.orbital_period),n.a.createElement("td",{style:{border:e}},t.population),n.a.createElement("td",{style:{border:e}},t.rotation_period),n.a.createElement("td",{style:{border:e}},t.surface_water),n.a.createElement("td",{style:{border:e}},t.terrain),n.a.createElement("td",{style:{border:e}},t.climate),n.a.createElement("td",{style:{border:e}},t.created),n.a.createElement("td",{style:{border:e}},t.diameter),n.a.createElement("td",{style:{border:e}},t.edited),n.a.createElement("td",{style:{border:e}},t.films),n.a.createElement("td",{style:{border:e}},t.gravity),n.a.createElement("td",{style:{border:e}},t.url))})))}())};a(17);var i=function(){var e=Object(r.useContext)(c).handleChangeFilters;return n.a.createElement("div",{className:"divSearch"},n.a.createElement("span",null,n.a.createElement("label",{htmlFor:"nome"},"Search",n.a.createElement("input",{id:"nome","data-testid":"name-filter",type:"text",name:"nome",onChange:e}))))},s=a(5),m=a.n(s),d=a(2),b=a(8),f=a(1);var p=function(e){var t=e.children,a=Object(r.useState)(),l=Object(f.a)(a,2),o=l[0],u=l[1],i=Object(r.useState)({dataFilters:o,filterByName:{name:""}}),s=Object(f.a)(i,2),p=s[0],E=s[1],v=Object(r.useState)({order:{column:"name",sort:"ASC"}}),y=Object(f.a)(v,2),h=y[0],O=y[1],j=Object(r.useState)({dataFilters2:o,filterByNumericValues:[{column:"",comparison:"",value:""}],orderSort:h}),C=Object(f.a)(j,2),g=C[0],S=C[1];Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a.results),r=a.results.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))){e.next=10;break}return e.abrupt("return",alert("Api negada Por favor recarregue a Pagina!"));case 10:u(r),E((function(e){return Object(d.a)(Object(d.a)({},e),{},{dataFilters:r})}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F=["rotation_period","orbital_period","diameter","gravity","surfaceWater","population"];return n.a.createElement(c.Provider,{value:{data:o,filters:p,filterValues:g,submitOrder:function(e,t){var a=p.dataFilters;return O({order:{column:e,sort:t}}),F.includes(e)?function(e,t,a){switch(a){case"ASC":return e.sort((function(e,a){return Number(e[t])-Number(a[t])}));case"DESC":return e.sort((function(e,a){return Number(a[t])-Number(e[t])}));default:return null}}(a,e,t):function(e,t,a){switch(a){case"ASC":return e.sort((function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0}));case"DESC":return e.sort((function(e,a){return e[t]>a[t]?-1:e[t]<a[t]?1:0}));default:return null}}(a,e,t)},setFilters:E,handleChangeFilters:function(e){var t=e.target.value,a=o.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));E(Object(d.a)(Object(d.a)({},p),{},{filterByName:{name:t},dataFilters:a}))},setFilterValues:S}},t)},E=a(9),v=(a(19),["population","orbital_period","diameter","rotation_period","surface_water"]),y=["name","created","edited","films","rotation_period","orbital_period","diameter","climate","gravity","terrain","surfaceWater","population","url"];var h=function(){var e=Object(r.useState)([{column:"",comparison:"",value:""}]),t=Object(f.a)(e,2),a=t[0],l=t[1],o=Object(r.useState)(v),u=Object(f.a)(o,2),i=u[0],s=u[1],m=Object(r.useState)(""),b=Object(f.a)(m,2),p=b[0],h=b[1],O=Object(r.useState)(""),j=Object(f.a)(O,2),C=j[0],g=j[1],S=Object(r.useState)(""),F=Object(f.a)(S,2),x=F[0],N=F[1],_=Object(r.useState)("name"),k=Object(f.a)(_,2),w=k[0],V=k[1],A=Object(r.useState)(""),B=Object(f.a)(A,2),D=B[0],P=B[1],q=Object(r.useContext)(c),W=q.data,R=q.filterValues,J=q.submitOrder,L=q.setFilterValues;return n.a.createElement("form",{className:"selectColum",onSubmit:function(e){e.preventDefault()}},n.a.createElement("select",{name:"column",id:"column",value:p,onChange:function(e){return h(e.target.value)},"data-testid":"column-filter"},i.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)}))),n.a.createElement("select",{name:"comparison",id:"comparison",value:C,onChange:function(e){return g(e.target.value)},"data-testid":"comparison-filter"},n.a.createElement("option",{value:"",disabled:!0,selected:!0},"Selecione uma condi\xe7\xe3o"),n.a.createElement("option",{value:"maior que"},"maior que"),n.a.createElement("option",{value:"menor que"},"menor que"),n.a.createElement("option",{value:"igual a"},"igual a")),n.a.createElement("input",{type:"number",name:"value",id:"valor",min:"1",value:x,onChange:function(e){return N(e.target.value)},"data-testid":"value-filter"}),n.a.createElement("button",{type:"button",onClick:function(){if(function(){var e=v.filter((function(e){return e!==p}));s(e)}(),"maior que"===C){var e=W.filter((function(e){return parseFloat(e[p])>parseFloat(x)}));L(Object(d.a)(Object(d.a)({},R),{},{filterByNumericValues:{column:p,comparison:C,value:x},dataFilters2:e}))}if("menor que"===C){var t=W.filter((function(e){return parseFloat(e[p])<parseFloat(x)}));L(Object(d.a)(Object(d.a)({},R),{},{filterByNumericValues:{column:p,comparison:C,value:x},dataFilters2:t}))}if("igual a"===C){var a=W.filter((function(e){return parseFloat(e[p])===parseFloat(x)}));L(Object(d.a)(Object(d.a)({},R),{},{filterByNumericValues:{column:p,comparison:C,value:x},dataFilters2:a}))}l((function(e){return[].concat(Object(E.a)(e),[{column:p,comparison:C,value:x}])}))},"data-testid":"button-filter"},"Filtrar"),a.map((function(e,t){return n.a.createElement("ul",{key:t},n.a.createElement("li",{"data-testid":"filter"},"".concat(e.column," ").concat(e.comparison," ").concat(e.value),n.a.createElement("button",{type:"button",onClick:function(){return e=p,l(a.filter((function(t){return t.column!==e}))),void L({filterByNumericValues:[{column:"",comparison:"",value:""}]});var e}},"X")))})),n.a.createElement("label",{htmlFor:"sortFilter"},n.a.createElement("select",{name:"sortFilter",id:"sortFilter","data-testid":"column-sort",onChange:function(e){return V(e.target.value)}},y.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement("label",{htmlFor:"ASC"},"ASC",n.a.createElement("input",{type:"radio",name:"sortRadio",id:"ASC",value:"ASC","data-testid":"column-sort-input-asc",onChange:function(e){return P(e.target.value)}})),n.a.createElement("label",{htmlFor:"DESC"},"DESC",n.a.createElement("input",{type:"radio",name:"sortRadio",id:"DESC",value:"DESC","data-testid":"column-sort-input-desc",onChange:function(e){return P(e.target.value)}})),n.a.createElement("button",{type:"button","data-testid":"column-sort-button",onClick:function(){return J(w,D)}},"SubmitOrder"))};var O=function(){return n.a.createElement(p,null,n.a.createElement("div",{className:"divmain"},n.a.createElement("span",null,n.a.createElement("h1",null,"Star Wars Planets")),n.a.createElement("div",{className:"inputs"},n.a.createElement(i,null),n.a.createElement(h,null)),n.a.createElement(u,null)))};o.a.render(n.a.createElement(O,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.173b6da7.chunk.js.map